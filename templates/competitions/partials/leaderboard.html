<!-- HTMX partial: Leaderboard table -->
{% if leaderboard %}
<div class="overflow-x-auto">
    <table class="table">
        <thead>
            <tr>
                <th>æ’å</th>
                <th>åƒè³½è€…</th>
                <th>åˆ†æ•¸</th>
                <th>æäº¤æ•¸</th>
                <th>æœ€å¾Œæäº¤</th>
            </tr>
        </thead>
        <tbody>
            {% for entry in leaderboard %}
            <tr class="{% if entry.is_current_user %}bg-primary/10 font-bold{% endif %}">
                <td>
                    {% if entry.rank == 1 %}
                    ğŸ¥‡
                    {% elif entry.rank == 2 %}
                    ğŸ¥ˆ
                    {% elif entry.rank == 3 %}
                    ğŸ¥‰
                    {% else %}
                    {{ entry.rank }}
                    {% endif %}
                </td>
                <td>
                    {{ entry.username }}
                    {% if entry.is_current_user %}
                    <span class="badge badge-sm badge-primary ml-1">æˆ‘</span>
                    {% endif %}
                </td>
                <td>
                    <span class="font-mono text-lg">{{ entry.score|floatformat:4 }}</span>
                </td>
                <td>{{ entry.submission_count }}</td>
                <td>{{ entry.last_submission|date:"m/d H:i" }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

{% if not show_private %}
<div class="alert alert-info mt-4">
    <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" class="stroke-current shrink-0 w-6 h-6">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
    </svg>
    <span>ç›®å‰é¡¯ç¤º Public Scoreã€‚ç«¶è³½çµæŸå¾Œå°‡å…¬å¸ƒ Private Score æœ€çµ‚æ’åã€‚</span>
</div>
{% endif %}

{% else %}
<div class="text-center py-8 text-gray-500">
    å°šç„¡æ’è¡Œæ¦œè³‡æ–™
</div>
{% endif %}